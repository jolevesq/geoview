/*! Package:geoview-custom-legend: 2.0.2 - "f4b503351959b146ac2cb5238d382f56f8a76e0b" - 2025-10-31T16:57:37.026Z */
"use strict";(self.webpackChunkgeoview_core=self.webpackChunkgeoview_core||[]).push([[303],{2403:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.d(t,{i:()=>g});var i=n(64477),r=n(43549),a=n(51310),s=n(54074),l=n(98615),c=n(75509),u=n(10379),p=n(75041),d=e([p]);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var g=function(e){function t(){var e,n,o,r;(0,i.A)(this,t);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=this,o=t,r=[].concat(c),o=(0,s.A)(o),e=(0,a.A)(n,f()?Reflect.construct(o,r||[],(0,s.A)(n).constructor):o.apply(n,r)),(0,u.A)(e,"buttonPanel",void 0),(0,u.A)(e,"buttonProps",void 0),(0,u.A)(e,"panelProps",void 0),e}return(0,c.A)(t,e),(0,r.A)(t,[{key:"getConfig",value:function(){return(e=t,n="getConfig",o=this,i=3,r=(0,l.A)((0,s.A)(1&i?e.prototype:e),n,o),2&i&&"function"==typeof r?function(e){return r.apply(o,e)}:r)([]);var e,n,o,i,r}},{key:"onCreateButtonProps",value:function(){var e=window.cgpv.ui.elements.MapIcon;return{id:"somePluginButton",tooltip:"Some tooltip",tooltipPlacement:"right",children:this.react.createElement(e),visible:!0}}},{key:"onCreateContentProps",value:function(){return{title:"Some title",icon:'<i class="material-icons">map</i>',width:"80vw",status:this.getConfig().isOpen}}},{key:"onCreateContent",value:function(){return this.react.createElement("div",void 0,"Content for AppBar Plugin on map id ".concat(this.mapViewer.mapId," goes here..."))}},{key:"onAdd",value:function(){this.buttonProps=this.onCreateButtonProps(),this.panelProps=this.onCreateContentProps(),this.panelProps.content=this.onCreateContent(),this.buttonPanel=this.mapViewer.appBarApi.createAppbarPanel(this.buttonProps,this.panelProps)||void 0}},{key:"onRemove",value:function(){this.buttonPanel&&this.mapViewer.appBarApi.removeAppbarPanel(this.buttonPanel.buttonPanelId)}}])}((p=(d.then?(await d)():d)[0]).G);o()}catch(h){o(h)}})},37390:e=>{e.exports=JSON.parse('{"type":"object","properties":{"id":{"type":"string"},"enabled":{"type":"boolean"},"isOpen":{"type":"boolean"},"legendList":{"type":"array","items":{"type":"object","properties":{"legendTitle":{"type":"string"},"iconUrl":{"type":"string"},"layerId":{"type":"string"},"visibility":{"type":"boolean"}},"required":["legendTitle","layerId"]}},"version":{"type":"string"}},"required":["id","legendList"]}')},74069:e=>{e.exports=JSON.parse('{"id":"custom-legend","enabled":true,"isOpen":false,"legendList":[],"version":"1.0"}')},83585:(e,t,n)=>{n.d(t,{J:()=>r});var o=function(e){return{legendCard:{display:"flex",flexDirection:"column",gap:"8px",padding:"16px",backgroundColor:e.palette.background.paper,borderRadius:"4px",boxShadow:e.shadows[1]},legendIcon:{width:"24px",height:"24px",objectFit:"contain"}}},i=n(97282);function r(e){var t=e.config.legendList,n=window.cgpv.ui,r=n.elements,a=r.Card,s=r.Box,l=n.useTheme(),c=o(l);return(0,i.jsx)(s,{sx:c.legendCard,children:t.map(function(e,t){return(0,i.jsx)(a,{tabIndex:0,className:"legendCardItem",title:e.legendTitle,contentCard:(0,i.jsx)(i.Fragment,{children:"string"==typeof e.symbolUrl&&(0,i.jsxs)("div",{className:"legend-item-container",children:[(0,i.jsx)(s,{component:"img",src:e.symbolUrl,alt:"",className:"legendSymbol"},t),(0,i.jsxs)("div",{className:"legend-text",children:[(0,i.jsx)("span",{className:"legend-title",children:e.legendTitle}),e.description&&(0,i.jsx)("span",{className:"legend-description",children:e.description})]})]})})},t)})})}},84431:(e,t,n)=>{n.a(e,async(e,t)=>{try{var o=n(64477),i=n(43549),r=n(51310),a=n(54074),s=n(98615),l=n(75509),c=n(10379),u=n(30538),p=n(2403),d=n(12498),g=n(83585),f=n(37390),h=n(74069),v=n(97282),y=e([p]);function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}var m=function(e){function t(){var e,n,i,s;(0,o.A)(this,t);for(var l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];return n=this,i=t,s=[].concat(u),i=(0,a.A)(i),e=(0,r.A)(n,C()?Reflect.construct(i,s||[],(0,a.A)(n).constructor):i.apply(n,s)),(0,c.A)(e,"onCreateContent",function(){return(0,v.jsx)(g.J,{config:e.getConfig()})}),e}return(0,l.A)(t,e),(0,i.A)(t,[{key:"schema",value:function(){return f}},{key:"defaultConfig",value:function(){return h}},{key:"defaultTranslations",value:function(){return{en:{CustomLegend:{title:"Custom Legend"}},fr:{CustomLegend:{title:"Légende personnalisée"}}}}},{key:"getConfig",value:function(){return(e=t,n="getConfig",o=this,i=3,r=(0,s.A)((0,a.A)(1&i?e.prototype:e),n,o),2&i&&"function"==typeof r?function(e){return r.apply(o,e)}:r)([]);var e,n,o,i,r}},{key:"onCreateButtonProps",value:function(){return{id:"custom-legend",tooltip:"CustomLegend.title",tooltipPlacement:"right",children:(0,v.jsx)(d.h8,{}),visible:!0}}},{key:"onCreateContentProps",value:function(){return{title:"CustomLegend.title",icon:(0,v.jsx)(d.h8,{}),width:350,status:this.getConfig().isOpen}}},{key:"onRemoved",value:function(){}}])}((p=(y.then?(await y)():y)[0]).i);u===window.cgpv.reactUtilities.react&&(window.geoviewPlugins=window.geoviewPlugins||{},window.geoviewPlugins["custom-legend"]=m),t()}catch(w){t(w)}})}},e=>{var t;t=84431,e(e.s=t)}]);
//# sourceMappingURL=geoview-custom-legend.js.map