{"version":3,"file":"corePackages/geoview-time-slider.js","mappings":"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","sources":["webpack://geoview-core/../../common/temp/node_modules/.pnpm/@mui+material@6.4.11_@emotion+react@11.14.0_@emotion+styled@11.14.0_@types+react@18.3.21_react-dom@18.3.1_react@18.3.1/node_modules/@mui/material/NativeSelect/NativeSelect.js","webpack://geoview-core/../geoview-time-slider/src/index.tsx","webpack://geoview-core/../geoview-time-slider/src/time-slider-panel.tsx","webpack://geoview-core/./src/api/plugin/footer-plugin.ts","webpack://geoview-core/../geoview-time-slider/src/time-slider.tsx","webpack://geoview-core/../geoview-time-slider/src/time-slider-style.ts"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport composeClasses from '@mui/utils/composeClasses';\nimport NativeSelectInput from \"./NativeSelectInput.js\";\nimport formControlState from \"../FormControl/formControlState.js\";\nimport useFormControl from \"../FormControl/useFormControl.js\";\nimport ArrowDropDownIcon from \"../internal/svg-icons/ArrowDropDown.js\";\nimport Input from \"../Input/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport { getNativeSelectUtilityClasses } from \"./nativeSelectClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getNativeSelectUtilityClasses, classes);\n};\nconst defaultInput = /*#__PURE__*/_jsx(Input, {});\n/**\n * An alternative to `<Select native />` with a much smaller bundle size footprint.\n */\nconst NativeSelect = /*#__PURE__*/React.forwardRef(function NativeSelect(inProps, ref) {\n  const props = useDefaultProps({\n    name: 'MuiNativeSelect',\n    props: inProps\n  });\n  const {\n    className,\n    children,\n    classes: classesProp = {},\n    IconComponent = ArrowDropDownIcon,\n    input = defaultInput,\n    inputProps,\n    variant,\n    ...other\n  } = props;\n  const muiFormControl = useFormControl();\n  const fcs = formControlState({\n    props,\n    muiFormControl,\n    states: ['variant']\n  });\n  const ownerState = {\n    ...props,\n    classes: classesProp\n  };\n  const classes = useUtilityClasses(ownerState);\n  const {\n    root,\n    ...otherClasses\n  } = classesProp;\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: /*#__PURE__*/React.cloneElement(input, {\n      // Most of the logic is implemented in `NativeSelectInput`.\n      // The `Select` component is a simple API wrapper to expose something better to play with.\n      inputComponent: NativeSelectInput,\n      inputProps: {\n        children,\n        classes: otherClasses,\n        IconComponent,\n        variant: fcs.variant,\n        type: undefined,\n        // We render a select. We can ignore the type provided by the `Input`.\n        ...inputProps,\n        ...(input ? input.props.inputProps : {})\n      },\n      ref,\n      ...other,\n      className: clsx(classes.root, input.props.className, className)\n    })\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? NativeSelect.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The option elements to populate the select with.\n   * Can be some `<option>` elements.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   * @default {}\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The icon that displays the arrow.\n   * @default ArrowDropDownIcon\n   */\n  IconComponent: PropTypes.elementType,\n  /**\n   * An `Input` element; does not have to be a material-ui specific `Input`.\n   * @default <Input />\n   */\n  input: PropTypes.element,\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#attributes) applied to the `select` element.\n   */\n  inputProps: PropTypes.object,\n  /**\n   * Callback fired when a menu item is selected.\n   *\n   * @param {React.ChangeEvent<HTMLSelectElement>} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.value` (string).\n   */\n  onChange: PropTypes.func,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The `input` value. The DOM API casts this to a string.\n   */\n  value: PropTypes.any,\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['filled', 'outlined', 'standard'])\n} : void 0;\nNativeSelect.muiName = 'Select';\nexport default NativeSelect;","import { TypeJsonObject, toJsonObject, Cast, AnySchemaObject } from 'geoview-core/src/api/config/types/config-types';\nimport { TimeDimension, DateMgt } from 'geoview-core/src/core/utils/date-mgt';\nimport { TypeTabs } from 'geoview-core/src/ui/tabs/tabs';\nimport { AbstractGVLayer } from 'geoview-core/src/geo/layer/gv-layers/abstract-gv-layer';\nimport { TimeSliderIcon } from 'geoview-core/src/ui';\nimport { FooterPlugin } from 'geoview-core/src/api/plugin/footer-plugin';\nimport { TimeSliderEventProcessor } from 'geoview-core/src/api/event-processors/event-processor-children/time-slider-event-processor';\n\nimport { TimeSliderPanel } from './time-slider-panel';\nimport schema from '../schema.json';\nimport defaultConfig from '../default-config-time-slider-panel.json';\nimport { SliderProps } from './time-slider-types';\n\nexport interface SliderFilterProps {\n  title: string;\n  description: string;\n  range: string[];\n  defaultValue: string;\n  minAndMax: number[];\n  field: string;\n  singleHandle: boolean;\n  values: number[];\n  filtering: boolean;\n  delay: number;\n  locked: boolean;\n  reversed: boolean;\n}\n\n/**\n * Time slider plugin\n */\nclass TimeSliderPlugin extends FooterPlugin {\n  /**\n   * Return the schema that is defined for this package\n   *\n   * @returns {AnySchemaObject} returns the schema for this package\n   */\n  override schema(): AnySchemaObject {\n    return schema;\n  }\n\n  /**\n   * Return the default config for this package\n   *\n   * @returns {TypeJsonObject} the default config\n   */\n  override defaultConfig(): TypeJsonObject {\n    return toJsonObject(defaultConfig);\n  }\n\n  /**\n   * Translations object to inject to the viewer translations\n   */\n  translations = toJsonObject({\n    en: {\n      timeSlider: {\n        title: 'Time Slider',\n        panel: {\n          noLayers: 'No layers with temporal data',\n        },\n        slider: {\n          unlockRight: 'Unlock right handle',\n          unlockLeft: 'Unlock left handle',\n          lockRight: 'Lock right handle',\n          lockLeft: 'Lock left handle',\n          disableFilter: 'Disable Time Filtering',\n          enableFilter: 'Enable Time Filtering',\n          pauseAnimation: 'Pause animation',\n          playAnimation: 'Play animation',\n          back: 'Back',\n          forward: 'Forward',\n          changeDirection: 'Change animation direction',\n          timeDelay: 'Animation delay',\n          stepValue: 'Step value',\n          hour: 'Hour',\n          day: 'Day',\n          week: 'Week',\n          month: 'Month',\n          year: 'Year',\n          temporalField: 'Temporal Field: ',\n        },\n      },\n    },\n    fr: {\n      timeSlider: {\n        title: 'Curseur Temporel',\n        panel: {\n          noLayers: 'Pas de couches avec des données temporelles',\n        },\n        slider: {\n          unlockRight: 'Déverrouiller la poignée droite',\n          unlockLeft: 'Déverrouiller la poignée gauche',\n          lockRight: 'Verrouiller la poignée droite',\n          lockLeft: 'Verrouiller la poignée gauche',\n          disableFilter: 'Désactiver le filtrage temporel',\n          enableFilter: 'Activer le filtrage temporel',\n          pauseAnimation: `Pause de l'animation`,\n          playAnimation: `Jouer l'animation`,\n          back: 'Retour',\n          forward: 'En avant',\n          changeDirection: `Changer la direction de l'animation`,\n          timeDelay: `Délai d'animation`,\n          stepValue: 'Valeur du saut',\n          hour: 'Heure',\n          day: 'Jour',\n          week: 'Semaine',\n          month: 'Mois',\n          year: 'Année',\n          temporalField: 'Champ temporel: ',\n        },\n      },\n    },\n  });\n\n  /**\n   * Overrides the creation of the content properties of this TimeSlider Footer Plugin.\n   * @returns {TypeTabs} The TypeTabs for the TimeSlider Footer Plugin\n   */\n  override onCreateContentProps(): TypeTabs {\n    // Set custom time dimension if applicable\n    this.configObj.sliders.forEach((obj: SliderProps) => {\n      if (obj.temporalDimension) {\n        const timeDimension: TimeDimension = {\n          field: obj.temporalDimension.field,\n          default: obj.temporalDimension.default,\n          unitSymbol: obj.temporalDimension.unitSymbol,\n          nearestValues: obj.temporalDimension.nearestValues,\n          range: DateMgt.createRangeOGC(obj.temporalDimension.range as unknown as string),\n          singleHandle: obj.temporalDimension.singleHandle,\n          displayPattern: obj.temporalDimension.displayPattern,\n          isValid: obj.temporalDimension.isValid,\n        };\n\n        // TODO: Check concurrency between plugin creation and setting temporal dimensions\n        // TO.DOCONT: I doubt that this (and few lines below) is a good place to set the temporal dimension on layers that might be\n        // TO.DOCONT: loading their metadata (and setting their own temporal dimension) at the same time as the plugin gets created.\n        // TO.DOCONT: Whichever call comes last will be overriding the setTemporalDimension set by the other concurrent task.\n        // TO.DOCONT: Fortunately, the time-slider plugin gets initialized 'late' as it's currently part of a footer, so they, most of the time,\n        // TO.DOCONT: always overwrite the config from the layer metadata which is probably what we want here.\n        // TP.DOCONT: It's risky, because if the Plugin gets created before the layer metadata is fully fetched and read,\n        // TO.DOCONT: the later will override the plugin settings (can be tested by adding fake delays).\n        // TO.DOCONT: If this Plugin has temporal dimension settings, for various layers, those should be set in synch with the layers\n        // TO.DOCONT: using event listeners, not at Plugin creation.\n        this.mapViewer().layer.getGeoviewLayer(obj.layerPaths[0])?.setTemporalDimension(timeDimension);\n      }\n\n      // Set override default value under time dimension if applicable\n      if (obj.defaultValue) {\n        const layerPath = obj.layerPaths[0];\n        const timeDimension = this.mapViewer().layer.getGeoviewLayer(layerPath)?.getTemporalDimension();\n\n        if (timeDimension) {\n          this.mapViewer()\n            .layer.getGeoviewLayer(layerPath)\n            ?.setTemporalDimension({\n              ...timeDimension,\n              default: obj.defaultValue,\n            });\n        }\n      }\n    });\n\n    return {\n      id: 'time-slider',\n      value: this.value!,\n      label: 'timeSlider.title',\n      icon: <TimeSliderIcon />,\n      content: <TimeSliderPanel mapId={this.pluginProps.mapId} configObj={this.configObj} />,\n    };\n  }\n\n  /**\n   * Overrides the addition of the TimeSlider Footer Plugin to make sure to set the time slider configs in the store and apply filters.\n   */\n  override onAdd(): void {\n    // If map layers are all 'loaded' already\n    if (this.mapViewer().mapLayersLoaded) {\n      // Layers are already 'loaded', initialize the time slider plugin\n      this.initTimeSliderPlugin();\n    } else {\n      // Wait for the layers to be 'loaded' so that their 'layerTemporalDimension' information is set ('techhnically, it's 'processed', but putting 'loaded' to better support layers migration)\n      this.mapViewer().onMapLayersLoaded(() => {\n        // Initialize the time slider plugin once all layers are 'loaded'\n        this.initTimeSliderPlugin();\n      });\n    }\n\n    // Call parent\n    super.onAdd();\n  }\n\n  /**\n   * Initializes the Time Slider Plugin once the layers are all 'processed'.\n   */\n  initTimeSliderPlugin(): void {\n    // Now the layerTemporalDimension should be good on the layers\n    const orderedLayerPaths = this.mapViewer().layer.getLayerEntryConfigIds();\n    const initialTimeSliderLayerPaths = this.#filterTimeSliderLayers(orderedLayerPaths);\n    if (initialTimeSliderLayerPaths) {\n      initialTimeSliderLayerPaths.forEach((layerPath) => {\n        // Get the layer\n        const layer = this.mapViewer().layer.getGeoviewLayer(layerPath);\n\n        // Get the config\n        const layerConfig = this.mapViewer().layer.getLayerEntryConfig(layerPath);\n\n        // Check and add time slider layer when needed\n        TimeSliderEventProcessor.checkInitTimeSliderLayerAndApplyFilters(this.pluginProps.mapId, layer, layerConfig);\n      });\n    }\n  }\n\n  /**\n   * Filters an array of legend layers to get usable time slider layer paths\n   *\n   * @param {string} mapId The id of the map\n   * @param {TypeLegendLayer[]} legendLayers Array of legend layers to filter\n   * @returns {string[]} A list of usable layer paths\n   * @private\n   */\n  #filterTimeSliderLayers(layerPaths: string[]): string[] {\n    const filteredLayerPaths = layerPaths.filter((layerPath) => {\n      // Get the layer\n      const layer = this.mapViewer().layer.getGeoviewLayer(layerPath);\n\n      // If of the right type\n      if (layer instanceof AbstractGVLayer) {\n        // Return the temporal dimension for the layer if any\n        return layer.getTemporalDimension();\n      }\n\n      // Skip\n      return undefined;\n    });\n    return filteredLayerPaths;\n  }\n}\n\nexport default TimeSliderPlugin;\n\n// Keep a reference to the Time Slider Plugin as part of the geoviewPlugins property stored in the window object\nwindow.geoviewPlugins = window.geoviewPlugins || {};\nwindow.geoviewPlugins['time-slider'] = Cast<TimeSliderPlugin>(TimeSliderPlugin);\n","import { TypeWindow } from 'geoview-core/src/core/types/global-types';\nimport { LayerListEntry, Layout } from 'geoview-core/src/core/components/common';\nimport {\n  TypeTimeSliderValues,\n  useTimeSliderLayers,\n  useTimeSliderSelectedLayerPath,\n  useTimeSliderStoreActions,\n} from 'geoview-core/src/core/stores/store-interface-and-intial-values/time-slider-state';\nimport { useMapVisibleLayers } from 'geoview-core/src/core/stores/store-interface-and-intial-values/map-state';\nimport { useLayerLegendLayers } from 'geoview-core/src/core/stores/store-interface-and-intial-values/layer-state';\nimport { LegendEventProcessor } from 'geoview-core/src/api/event-processors/event-processor-children/legend-event-processor';\nimport { Box } from 'geoview-core/src/ui';\nimport { logger } from 'geoview-core/src/core/utils/logger';\nimport { TABS } from 'geoview-core/src/core/utils/constant';\n\nimport { ReactNode } from 'react';\nimport { DateMgt } from 'geoview-core/src/core/utils/date-mgt';\nimport { TimeSlider } from './time-slider';\nimport { ConfigProps } from './time-slider-types';\n\ninterface TypeTimeSliderProps {\n  configObj: ConfigProps;\n  mapId: string;\n}\n\n/**\n * Time slider tab\n *\n * @param {TypeTimeSliderProps} props The properties passed to slider\n * @returns {JSX.Element} the time slider tab\n */\nexport function TimeSliderPanel(props: TypeTimeSliderProps): JSX.Element {\n  const { mapId, configObj } = props;\n  const { cgpv } = window as TypeWindow;\n  const { react } = cgpv;\n  const { useCallback, useMemo, useEffect } = react;\n\n  // get values from store\n  const visibleLayers = useMapVisibleLayers() as string[];\n  const timeSliderLayers = useTimeSliderLayers();\n  const selectedLayerPath = useTimeSliderSelectedLayerPath();\n  const { setSelectedLayerPath } = useTimeSliderStoreActions();\n  const legendLayers = useLayerLegendLayers();\n\n  /**\n   * handle Layer list when clicked on each layer.\n   * @param {LayerListEntry} layer layer clicked by the user.\n   */\n  const handleClickLayerList = useCallback(\n    (layer: LayerListEntry) => {\n      // Log\n      logger.logTraceUseCallback('TIME-SLIDER-PANEL - handleLayerList');\n\n      // Set the layer path\n      setSelectedLayerPath(layer.layerPath);\n    },\n    [setSelectedLayerPath]\n  );\n\n  /**\n   * Get dates for current filters\n   * @param {TypeTimeSliderValues} timeSliderLayerInfo - Time slider layer info.\n   */\n  const getFilterInfo = (timeSliderLayerInfo: TypeTimeSliderValues): string | null => {\n    if (timeSliderLayerInfo.filtering) {\n      const { values } = timeSliderLayerInfo;\n\n      // Fill in date pattern and time pattern with default values if the display pattern is empty for some reason\n      const [datePattern, timePattern] = timeSliderLayerInfo.displayPattern;\n\n      return timeSliderLayerInfo.values.length === 1\n        ? DateMgt.formatDatePattern(values[0], 'day', timePattern)\n        : `${DateMgt.formatDatePattern(values[0], datePattern, timePattern)} / ${DateMgt.formatDatePattern(\n            values[1],\n            datePattern,\n            timePattern\n          )}`;\n    }\n\n    return null;\n  };\n\n  // Reacts when the array of layer data updates\n  const memoLayersList = useMemo(() => {\n    // Log\n    logger.logTraceUseMemo('TIME-SLIDER-PANEL - memoLayersList', timeSliderLayers);\n\n    /**\n     * Create layer tooltip\n     * @param {TypeTimeSliderValues} timeSliderLayerInfo Time slider layer info.\n     * @param {string} name Time slider layer name.\n     * @returns\n     */\n    const getLayerTooltip = (timeSliderLayerInfo: TypeTimeSliderValues, name: string): ReactNode => {\n      return (\n        <Box sx={{ display: 'flex', alignContent: 'center', '& svg ': { width: '0.75em', height: '0.75em' } }}>\n          {name}\n          {timeSliderLayerInfo.filtering && `: ${getFilterInfo(timeSliderLayerInfo)}`}\n        </Box>\n      );\n    };\n\n    // Return the layers\n    return visibleLayers\n      .map((layerPath) => {\n        return { layerPath, timeSliderLayerInfo: timeSliderLayers[layerPath!] };\n      })\n      .filter((layer) => layer && layer.timeSliderLayerInfo)\n      .map((layer) => {\n        return {\n          layerName: LegendEventProcessor.findLayerByPath(legendLayers, layer.layerPath).layerName,\n          layerPath: layer.layerPath,\n          layerFeatures: getFilterInfo(layer.timeSliderLayerInfo),\n          tooltip: getLayerTooltip(\n            layer.timeSliderLayerInfo,\n            LegendEventProcessor.findLayerByPath(legendLayers, layer.layerPath).layerName\n          ),\n          layerStatus: 'loaded',\n          queryStatus: 'processed',\n          layerUniqueId: `${mapId}-${TABS.TIME_SLIDER}-${layer.layerPath}`,\n        } as LayerListEntry;\n      });\n  }, [legendLayers, timeSliderLayers, visibleLayers, mapId]);\n\n  useEffect(() => {\n    // Log\n    logger.logTraceUseEffect('TIME-SLIDER-PANEL - memoLayersList', memoLayersList, selectedLayerPath);\n\n    // If the selected layer path isn't in the list of layers possible, clear it\n    if (selectedLayerPath && !memoLayersList.map((layer: { layerPath: string }) => layer.layerPath).includes(selectedLayerPath)) {\n      // Clear the selected layer path\n      setSelectedLayerPath('');\n    }\n  }, [memoLayersList, selectedLayerPath, setSelectedLayerPath]);\n\n  const handleGuideIsOpen = useCallback(\n    (guideIsOpen: boolean): void => {\n      if (guideIsOpen) {\n        setSelectedLayerPath('');\n      }\n    },\n    [setSelectedLayerPath]\n  );\n\n  /**\n   * Render the right panel content based on selected Layer path of time slider.\n   * NOTE: Here we return null, so that in responsive grid layout, it can be used as flag to render the guide for time slider.\n   * @returns {JSX.Element | null} JSX.Element | null\n   */\n  const renderContent = (): JSX.Element | null => {\n    if (selectedLayerPath && timeSliderLayers && selectedLayerPath in timeSliderLayers) {\n      return <TimeSlider config={configObj} layerPath={selectedLayerPath} key={selectedLayerPath} />;\n    }\n\n    return null;\n  };\n\n  return (\n    <Layout\n      selectedLayerPath={selectedLayerPath}\n      onLayerListClicked={handleClickLayerList}\n      layerList={memoLayersList}\n      onGuideIsOpen={handleGuideIsOpen}\n      guideContentIds={['timeSlider']}\n    >\n      {renderContent()}\n    </Layout>\n  );\n}\n","import { TypeTabs } from '@/ui/tabs/tabs';\nimport { AbstractPlugin } from './abstract-plugin';\nimport { logger } from '@/core/utils/logger';\n\n/**\n * Footer Plugin abstract class.\n */\nexport abstract class FooterPlugin extends AbstractPlugin {\n  // Store index of tab\n  value?: number;\n\n  // Store the footer props\n  footerProps?: TypeTabs;\n\n  /**\n   * Overridable function to create footer props content\n   * @returns TypeTabs The footer props content\n   */\n  onCreateContentProps(): TypeTabs {\n    // Override this to create the footer props..\n\n    // Return dummy content\n    return {\n      id: 'some-id',\n      value: this.value!,\n      label: 'Some label',\n      content: `<div>Content for Footer plugin on map id ${this.pluginProps.mapId} goes here...</div>`,\n    };\n  }\n\n  /**\n   * Called when a footer plugin is being added\n   */\n  onAdd(): void {\n    // Log\n    // No need to log, parent class does it well already via added() function.\n\n    // Set value to length of tabs(?)\n    this.value = this.mapViewer().footerBarApi.tabs.length;\n\n    // Create props\n    this.footerProps = this.onCreateContentProps();\n\n    // Create tab with the props\n    this.mapViewer().footerBarApi.createTab(this.footerProps);\n  }\n\n  /**\n   * Called when a footer plugin is being removed\n   */\n  onRemove(): void {\n    // Log\n    // No need to log, parent class does it well already via removed() function.\n\n    // Remove the footer tab\n    if (this.value && this.mapViewer()?.footerBarApi) this.mapViewer().footerBarApi.removeTab(this.footerProps!.id);\n  }\n\n  /**\n   * Called when a footer plugin has been selected in the tabs\n   */\n  // Added eslint-disable here, because we do want to override this method in children and keep 'this'.\n  // eslint-disable-next-line @typescript-eslint/class-methods-use-this\n  onSelected(): void {\n    // Log\n    logger.logTraceCore('FOOTER-PLUGIN - onSelected');\n\n    // TODO: Refactor - Move 'onSelected' in AbstractPlugin class so that AppBar can eventually benefit as well?\n\n    // Nothing else here.. but inherited FooterPlugins might override this method to do stuff when they are selected!\n  }\n}\n","import { useTheme } from '@mui/material/styles';\nimport { FormControl, InputLabel, NativeSelect } from '@mui/material';\nimport { Box } from 'geoview-core/src/ui';\nimport {\n  useTimeSliderLayers,\n  useTimeSliderStoreActions,\n} from 'geoview-core/src/core/stores/store-interface-and-intial-values/time-slider-state';\nimport { useLayerLegendLayers } from 'geoview-core/src/core/stores/store-interface-and-intial-values/layer-state';\nimport { LegendEventProcessor } from 'geoview-core/src/api/event-processors/event-processor-children/legend-event-processor';\nimport { getLocalizedMessage } from 'geoview-core/src/core/utils/utilities';\nimport { useAppDisplayLanguage } from 'geoview-core/src/core/stores/store-interface-and-intial-values/app-state';\nimport { logger } from 'geoview-core/src/core/utils/logger';\n\nimport { DateMgt } from 'geoview-core/src/core/utils/date-mgt';\nimport { getSxClasses } from './time-slider-style';\nimport { ConfigProps } from './time-slider-types';\n\ninterface TimeSliderProps {\n  config: ConfigProps;\n  layerPath: string;\n}\n\n/**\n * Creates a panel with time sliders\n *\n * @param {TimeSliderProps} props - Time slider properties\n * @returns {JSX.Element} the slider panel\n */\nexport function TimeSlider(props: TimeSliderProps): JSX.Element {\n  // Log\n  logger.logTraceRender('geoview-time-slider/time-slider', props);\n\n  const { cgpv } = window;\n  const { config, layerPath } = props;\n  const { react, ui } = cgpv;\n  const { useState, useRef, useEffect, useCallback } = react;\n  const {\n    Grid,\n    Slider,\n    Typography,\n    Checkbox,\n    Tooltip,\n    IconButton,\n    LockIcon,\n    LockOpenIcon,\n    ArrowLeftIcon,\n    PlayArrowIcon,\n    PauseIcon,\n    ArrowRightIcon,\n    SwitchRightIcon,\n    SwitchLeftIcon,\n  } = ui.elements;\n\n  const theme = useTheme();\n  const sxClasses = getSxClasses(theme);\n\n  const [isPlaying, setIsPlaying] = useState<boolean>(false);\n  const playIntervalRef = useRef<number>();\n\n  // References for play button\n  const sliderValueRef = useRef<number>();\n  const sliderDeltaRef = useRef<number>();\n\n  // Get actions and states from store\n  // TODO: evaluate best option to set value by layer path.... trough a getter?\n  const { setTitle, setDefaultValue, setDescription, setValues, setLocked, setReversed, setDelay, setStep, setFiltering } =\n    useTimeSliderStoreActions();\n  const displayLanguage = useAppDisplayLanguage();\n\n  // TODO: check performance as we should technically have one selector by constant\n  const {\n    title,\n    description,\n    defaultValue,\n    discreteValues,\n    step,\n    range,\n    minAndMax,\n    field,\n    fieldAlias,\n    filtering,\n    singleHandle,\n    values,\n    delay,\n    locked,\n    reversed,\n    displayPattern,\n  } = useTimeSliderLayers()[layerPath];\n\n  // Get name from legend layers\n  const legendLayers = useLayerLegendLayers();\n  const name = LegendEventProcessor.findLayerByPath(legendLayers, layerPath).layerName;\n\n  const timeStampRange = range.map((entry: string | number | Date) =>\n    typeof entry !== 'number' ? DateMgt.convertToMilliseconds(entry) : entry\n  );\n\n  let timeMarks: number[] = [];\n  if (range.length < 4 && discreteValues) {\n    const interval = (DateMgt.convertToMilliseconds(range[range.length - 1]) - DateMgt.convertToMilliseconds(range[0])) / 4;\n    timeMarks = [minAndMax[0], minAndMax[0] + interval, minAndMax[0] + interval * 2, minAndMax[0] + interval * 3, minAndMax[1]];\n  } else if (range.length < 6 || singleHandle) timeMarks = timeStampRange;\n  else {\n    timeMarks = [\n      minAndMax[0],\n      DateMgt.convertToMilliseconds(range[Math.round(range.length / 4)]),\n      DateMgt.convertToMilliseconds(range[Math.round(range.length / 2)]),\n      DateMgt.convertToMilliseconds(range[Math.round((3 * range.length) / 4)]),\n      minAndMax[1],\n    ];\n  }\n\n  const sliderMarks = [];\n  for (let i = 0; i < timeMarks.length; i++) {\n    sliderMarks.push({\n      value: timeMarks[i],\n      // If timeframe is a single day, use time. If it is a single year, drop year from dates.\n      label:\n        displayPattern[1] !== undefined\n          ? DateMgt.formatDatePattern(timeMarks[i], undefined, displayPattern[1])\n          : DateMgt.formatDatePattern(timeMarks[i], displayPattern[0], displayPattern[1]),\n    });\n  }\n\n  /**\n   * Moves the slider handles based on the specified direction.\n   * @param direction - The direction to move the slider ('back' or 'forward').\n   */\n  function moveSlider(direction: 'back' | 'forward'): void {\n    const isForward = direction === 'forward';\n    const stepMove = isForward ? 1 : -1;\n\n    // Handle single handle case with no discrete values\n    if (singleHandle && !discreteValues) {\n      const currentIndex = timeStampRange.indexOf(values[0]);\n      const newIndex =\n        // eslint-disable-next-line no-nested-ternary\n        currentIndex === (isForward ? timeStampRange.length - 1 : 0)\n          ? isForward\n            ? 0\n            : timeStampRange.length - 1\n          : currentIndex + stepMove;\n      setValues(layerPath, [timeStampRange[newIndex]]);\n      return;\n    }\n\n    // Handle single handle case with discrete values\n    if (singleHandle) {\n      const interval = step || (minAndMax[1] - minAndMax[0]) / 20;\n      const newPosition = values[0] + interval * stepMove;\n      // eslint-disable-next-line no-nested-ternary\n      setValues(layerPath, [newPosition > minAndMax[1] ? minAndMax[0] : newPosition < minAndMax[0] ? minAndMax[1] : newPosition]);\n      return;\n    }\n\n    // Handle multi-handle case\n    let [leftHandle, rightHandle] = values;\n\n    // If handles are at the extremes, reset the delta\n    if (rightHandle - leftHandle === minAndMax[1] - minAndMax[0]) {\n      sliderDeltaRef.current = (minAndMax[1] - minAndMax[0]) / 10;\n      setValues(\n        layerPath,\n        isForward ? [leftHandle, leftHandle + sliderDeltaRef.current] : [rightHandle - sliderDeltaRef.current, rightHandle]\n      );\n      return;\n    }\n\n    // Calculate the delta if not already set\n    if (!sliderDeltaRef.current) {\n      sliderDeltaRef.current = rightHandle - leftHandle;\n    }\n\n    const delta = sliderDeltaRef.current * stepMove;\n\n    // Handle locked and reversed case\n    if (locked && reversed) {\n      leftHandle += delta;\n      if ((isForward && leftHandle >= rightHandle) || (!isForward && leftHandle < minAndMax[0])) {\n        [leftHandle] = minAndMax;\n      }\n    }\n    // Handle locked case\n    else if (locked) {\n      if (isForward && rightHandle === minAndMax[1]) rightHandle = leftHandle;\n      rightHandle += delta;\n      if (rightHandle > minAndMax[1]) [, rightHandle] = minAndMax;\n      else if (!isForward && rightHandle < leftHandle) rightHandle = leftHandle;\n      if (!isForward && rightHandle === leftHandle) [, rightHandle] = minAndMax;\n    }\n    // Handle unlocked case\n    else if (isForward) {\n      if (leftHandle < sliderValueRef.current! && rightHandle === sliderValueRef.current) leftHandle = sliderValueRef.current;\n      else leftHandle += delta;\n      if (leftHandle >= minAndMax[1]) [leftHandle] = minAndMax;\n      rightHandle = leftHandle + sliderDeltaRef.current!;\n      if (rightHandle > minAndMax[1]) [, rightHandle] = minAndMax;\n      if (rightHandle > sliderValueRef.current! && leftHandle < sliderValueRef.current!) rightHandle = sliderValueRef.current as number;\n    } else {\n      if (rightHandle > sliderValueRef.current! && leftHandle === sliderValueRef.current) rightHandle = sliderValueRef.current;\n      else rightHandle += delta;\n      if (rightHandle <= minAndMax[0]) [, rightHandle] = minAndMax;\n      leftHandle = rightHandle - sliderDeltaRef.current!;\n      if (leftHandle < minAndMax[0]) [leftHandle] = minAndMax;\n      if (leftHandle < sliderValueRef.current! && rightHandle > sliderValueRef.current!) leftHandle = sliderValueRef.current as number;\n    }\n\n    setValues(layerPath, [leftHandle, rightHandle]);\n  }\n\n  function moveBack(): void {\n    moveSlider('back');\n  }\n\n  function moveForward(): void {\n    moveSlider('forward');\n  }\n\n  // #region USE EFFECT\n  useEffect(() => {\n    // Log\n    logger.logTraceUseEffect('TIME-SLIDER - mount');\n\n    // TODO: add mechanism to initialize these values during store onInitialize\n    const sliderConfig = config?.sliders?.find((o: { layerPaths: string[] }) => o.layerPaths.includes(layerPath));\n    if (title === undefined) setTitle(layerPath, sliderConfig?.title || '');\n    if (description === undefined) setDescription(layerPath, sliderConfig?.description || '');\n    if (locked === undefined) setLocked(layerPath, sliderConfig?.locked !== undefined ? sliderConfig?.locked : false);\n    if (reversed === undefined) setReversed(layerPath, sliderConfig?.reversed !== undefined ? sliderConfig?.reversed : false);\n    if (defaultValue === undefined) setDefaultValue(layerPath, sliderConfig?.defaultValue || '');\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    // Log\n    logger.logTraceUseEffect('TIME-SLIDER - config layerPath', config, layerPath);\n\n    const sliderConfig = config?.sliders?.find((o: { layerPaths: string[] }) => o.layerPaths.includes(layerPath));\n    if (sliderConfig?.defaultValue) {\n      // update values based on slider's default value\n      const defaultValueIsArray = Array.isArray(sliderConfig?.defaultValue);\n      if (defaultValueIsArray) {\n        setValues(layerPath, [\n          DateMgt.convertToMilliseconds(sliderConfig?.defaultValue[0]),\n          DateMgt.convertToMilliseconds(sliderConfig?.defaultValue[1]),\n        ]);\n      } else if (range.includes(sliderConfig?.defaultValue)) {\n        setValues(layerPath, [DateMgt.convertToMilliseconds(sliderConfig?.defaultValue)]);\n      } else {\n        setValues(layerPath, [DateMgt.convertToMilliseconds(range[0])]);\n      }\n    }\n  }, [config, layerPath, range, setFiltering, setValues]);\n\n  useEffect(() => {\n    // Log\n    logger.logTraceUseEffect('TIME-SLIDER - values filtering', values, filtering);\n\n    // If slider cycle is active, pause before advancing to next increment\n    if (isPlaying) {\n      if (reversed) playIntervalRef.current = window.setTimeout(() => moveBack(), delay);\n      else playIntervalRef.current = window.setTimeout(() => moveForward(), delay);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [values, filtering, reversed, locked]);\n\n  // When slider cycle is activated, advance to first increment without delay\n  useEffect(() => {\n    // Log\n    logger.logTraceUseEffect('TIME-SLIDER - isPlaying', isPlaying);\n\n    if (isPlaying) {\n      if (reversed) moveBack();\n      else moveForward();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isPlaying]);\n  // #endregion\n\n  // #region HANDLE FUNCTIONS\n  function handleBack(): void {\n    sliderValueRef.current = reversed ? values[1] : values[0];\n    moveBack();\n  }\n\n  function handleForward(): void {\n    [sliderValueRef.current] = values;\n    moveForward();\n  }\n\n  function handleLock(): void {\n    clearTimeout(playIntervalRef.current);\n    setLocked(layerPath, !locked);\n  }\n\n  function handlePlay(): void {\n    clearTimeout(playIntervalRef.current);\n    sliderValueRef.current = reversed ? values[1] : values[0];\n    setIsPlaying(!isPlaying);\n  }\n\n  function handleReverse(): void {\n    clearTimeout(playIntervalRef.current);\n    setReversed(layerPath, !reversed);\n    if (isPlaying) {\n      if (reversed) moveBack();\n      else moveForward();\n    }\n  }\n\n  function handleTimeChange(event: React.ChangeEvent<HTMLSelectElement>): void {\n    setDelay(layerPath, event.target.value as unknown as number);\n  }\n\n  function handleStepChange(event: React.ChangeEvent<HTMLSelectElement>): void {\n    setStep(layerPath, Number(event.target.value));\n  }\n\n  function handleCheckbox(newValue: boolean): void {\n    setFiltering(layerPath, newValue);\n    if (!newValue) {\n      clearInterval(playIntervalRef.current);\n      setIsPlaying(false);\n    }\n  }\n\n  const handleSliderChange = useCallback(\n    (newValues: number | number[]): void => {\n      // Log\n      logger.logTraceUseCallback('TIME-SLIDER - handleSliderChange', layerPath);\n\n      clearTimeout(playIntervalRef.current);\n      setIsPlaying(false);\n      sliderDeltaRef.current = undefined;\n      setValues(layerPath, newValues as number[]);\n    },\n    [layerPath, setValues]\n  );\n\n  /**\n   * Create labels for values on slider\n   *\n   * @param {number} theValue - The value of the slider handle\n   * @returns {string} A formatted time string or ISO date string\n   */\n  const handleLabelFormat = useCallback(\n    (theValue: number): string => {\n      // Log\n      logger.logTraceUseCallback('TIME-SLIDER - handleLabelFormat', displayPattern);\n\n      // If timeframe is a single day, use time. If it is a single year, drop year from dates.\n      DateMgt.formatDatePattern(values[0], displayPattern[0], displayPattern[1]);\n\n      return DateMgt.formatDatePattern(theValue, displayPattern[0], displayPattern[1]);\n    },\n    [displayPattern, values]\n  );\n  // #endregion\n\n  function returnLockTooltip(): string {\n    if (reversed) {\n      const text = locked\n        ? getLocalizedMessage(displayLanguage, 'timeSlider.slider.unlockRight')\n        : getLocalizedMessage(displayLanguage, 'timeSlider.slider.lockRight');\n      return text;\n    }\n    const text = locked\n      ? getLocalizedMessage(displayLanguage, 'timeSlider.slider.unlockLeft')\n      : getLocalizedMessage(displayLanguage, 'timeSlider.slider.lockLeft');\n    return text;\n  }\n\n  return (\n    <Grid>\n      <Box sx={{ padding: '0px 10px' }}>\n        <Grid container sx={{ ...sxClasses.rightPanelBtnHolder, flexWrap: 'nowrap' }}>\n          <Grid item xs={9}>\n            <Typography component=\"div\" sx={{ ...sxClasses.panelHeaders, paddingLeft: '20px', paddingTop: '10px' }}>\n              {`${title || name}`}\n              {displayPattern[0] === undefined && ` (${DateMgt.formatDate(defaultValue, 'YYYY-MM-DD')})`}\n            </Typography>\n          </Grid>\n          <Grid item xs={3}>\n            <Box sx={{ textAlign: 'right', marginRight: '25px' }}>\n              <Tooltip\n                title={\n                  filtering\n                    ? getLocalizedMessage(displayLanguage, 'timeSlider.slider.disableFilter')\n                    : getLocalizedMessage(displayLanguage, 'timeSlider.slider.enableFilter')\n                }\n                placement=\"top\"\n                enterDelay={1000}\n              >\n                <Checkbox checked={filtering} onChange={(event: never, child: boolean): void => handleCheckbox(child)} />\n              </Tooltip>\n            </Box>\n          </Grid>\n        </Grid>\n        <Grid item xs={12}>\n          <Box sx={{ textAlign: 'center', paddingTop: '20px' }}>\n            <Slider\n              key={values[1] ? values[1] + values[0] : values[0]}\n              style={{ width: '80%', color: 'primary' }}\n              min={minAndMax[0]}\n              max={minAndMax[1]}\n              value={values}\n              marks={sliderMarks}\n              step={discreteValues ? step || 0.1 : null}\n              onChangeCommitted={handleSliderChange}\n              onValueLabelFormat={handleLabelFormat}\n            />\n          </Box>\n        </Grid>\n        <Grid item xs={12}>\n          <Box sx={{ textAlign: 'center', paddingTop: '20px' }}>\n            {!singleHandle && (\n              <IconButton\n                className=\"buttonOutline\"\n                aria-label={returnLockTooltip()}\n                tooltip={returnLockTooltip()}\n                tooltipPlacement=\"top\"\n                onClick={() => handleLock()}\n              >\n                {locked ? <LockIcon /> : <LockOpenIcon />}\n              </IconButton>\n            )}\n\n            <IconButton\n              className=\"buttonOutline\"\n              aria-label={getLocalizedMessage(displayLanguage, 'timeSlider.slider.back') as string}\n              tooltip={getLocalizedMessage(displayLanguage, 'timeSlider.slider.back') as string}\n              tooltipPlacement=\"top\"\n              disabled={isPlaying || !filtering}\n              onClick={() => handleBack()}\n            >\n              <ArrowLeftIcon />\n            </IconButton>\n\n            <IconButton\n              className=\"buttonOutline\"\n              aria-label={\n                isPlaying\n                  ? (getLocalizedMessage(displayLanguage, 'timeSlider.slider.pauseAnimation') as string)\n                  : (getLocalizedMessage(displayLanguage, 'timeSlider.slider.playAnimation') as string)\n              }\n              tooltip={\n                isPlaying\n                  ? (getLocalizedMessage(displayLanguage, 'timeSlider.slider.pauseAnimation') as string)\n                  : (getLocalizedMessage(displayLanguage, 'timeSlider.slider.playAnimation') as string)\n              }\n              tooltipPlacement=\"top\"\n              disabled={!filtering}\n              onClick={() => handlePlay()}\n            >\n              {!isPlaying ? <PlayArrowIcon /> : <PauseIcon />}\n            </IconButton>\n\n            <IconButton\n              className=\"buttonOutline\"\n              aria-label={getLocalizedMessage(displayLanguage, 'timeSlider.slider.forward') as string}\n              tooltip={getLocalizedMessage(displayLanguage, 'timeSlider.slider.forward') as string}\n              tooltipPlacement=\"top\"\n              disabled={isPlaying || !filtering}\n              onClick={() => handleForward()}\n            >\n              <ArrowRightIcon />\n            </IconButton>\n\n            <IconButton\n              className=\"buttonOutline\"\n              aria-label={getLocalizedMessage(displayLanguage, 'timeSlider.slider.changeDirection') as string}\n              tooltip={getLocalizedMessage(displayLanguage, 'timeSlider.slider.changeDirection') as string}\n              tooltipPlacement=\"top\"\n              onClick={() => handleReverse()}\n            >\n              {reversed ? <SwitchRightIcon /> : <SwitchLeftIcon />}\n            </IconButton>\n\n            <Box component=\"span\" sx={{ paddingLeft: '10px' }}>\n              <FormControl sx={{ width: '100px' }}>\n                <InputLabel variant=\"standard\">{getLocalizedMessage(displayLanguage, 'timeSlider.slider.timeDelay')}</InputLabel>\n                <NativeSelect\n                  defaultValue={delay}\n                  inputProps={{\n                    name: 'timeDelay',\n                    onChange: (event) => handleTimeChange(event),\n                  }}\n                >\n                  <option value={500}>0.5s</option>\n                  <option value={750}>0.75s</option>\n                  <option value={1000}>1.0s</option>\n                  <option value={1500}>1.5s</option>\n                  <option value={2000}>2.0s</option>\n                  <option value={3000}>3.0s</option>\n                  <option value={5000}>5.0s</option>\n                </NativeSelect>\n              </FormControl>\n            </Box>\n            {singleHandle && discreteValues && (\n              <Box component=\"span\" sx={{ paddingLeft: '10px' }}>\n                <FormControl sx={{ width: '100px' }}>\n                  <InputLabel variant=\"standard\">{getLocalizedMessage(displayLanguage, 'timeSlider.slider.stepValue')}</InputLabel>\n                  <NativeSelect\n                    defaultValue={step}\n                    inputProps={{\n                      name: 'timeStep',\n                      onChange: (event) => handleStepChange(event),\n                    }}\n                  >\n                    <option value={3600000}>{getLocalizedMessage(displayLanguage, 'timeSlider.slider.hour')}</option>\n                    <option value={86400000}>{getLocalizedMessage(displayLanguage, 'timeSlider.slider.day')}</option>\n                    <option value={604800000}>{getLocalizedMessage(displayLanguage, 'timeSlider.slider.week')}</option>\n                    <option value={2592000000}>{getLocalizedMessage(displayLanguage, 'timeSlider.slider.month')}</option>\n                    <option value={31536000000}>{getLocalizedMessage(displayLanguage, 'timeSlider.slider.year')}</option>\n                  </NativeSelect>\n                </FormControl>\n              </Box>\n            )}\n          </Box>\n        </Grid>\n        {description && (\n          <Grid item xs={12}>\n            <Typography component=\"div\" sx={{ px: '20px', py: '5px' }}>\n              {description}\n            </Typography>\n          </Grid>\n        )}\n        {fieldAlias && (\n          <Grid item xs={12}>\n            <Typography component=\"div\" sx={{ px: '20px', py: '5px' }}>\n              {`${getLocalizedMessage(displayLanguage, 'timeSlider.slider.temporalField')}${fieldAlias !== field ? `${fieldAlias}(${field})` : fieldAlias}`}\n            </Typography>\n          </Grid>\n        )}\n      </Box>\n    </Grid>\n  );\n}\n","import { Theme } from '@mui/material/styles';\n\n// ? I doubt we want to define an explicit type for style properties?\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const getSxClasses = (theme: Theme): any => ({\n  panelHeaders: {\n    fontSize: theme.palette.geoViewFontSize.lg,\n    fontWeight: '600',\n    marginBottom: '20px',\n  },\n  rightPanelBtnHolder: {\n    marginTop: '20px',\n    marginBottom: '9px',\n    boxShadow: '0px 12px 9px -13px #E0E0E0',\n  },\n});\n"],"names":["defaultInput","NativeSelect","inProps","ref","props","name","className","children","classes","classesProp","IconComponent","A","input","inputProps","variant","other","muiFormControl","fcs","states","ownerState","root","useUtilityClasses","otherClasses","inputComponent","type","undefined","muiName","_TimeSliderPlugin_brand","WeakSet","TimeSliderPlugin","_FooterPlugin","_this","_classCallCheck","_len","arguments","length","args","Array","_key","concat","_classPrivateMethodInitSpec","_defineProperty","toJsonObject","en","timeSlider","title","panel","noLayers","slider","unlockRight","unlockLeft","lockRight","lockLeft","disableFilter","enableFilter","pauseAnimation","playAnimation","back","forward","changeDirection","timeDelay","stepValue","hour","day","week","month","year","temporalField","fr","_inherits","_createClass","key","value","schema","defaultConfig","_this2","this","configObj","sliders","forEach","obj","temporalDimension","_this2$mapViewer$laye","timeDimension","field","default","unitSymbol","nearestValues","range","DateMgt","createRangeOGC","singleHandle","displayPattern","isValid","mapViewer","layer","getGeoviewLayer","layerPaths","setTemporalDimension","defaultValue","_this2$mapViewer$laye2","_this2$mapViewer$laye3","layerPath","getTemporalDimension","_objectSpread","id","label","icon","_jsx","TimeSliderIcon","content","TimeSliderPanel","mapId","pluginProps","_this3","mapLayersLoaded","initTimeSliderPlugin","onMapLayersLoaded","_this4","orderedLayerPaths","getLayerEntryConfigIds","initialTimeSliderLayerPaths","_assertClassBrand","_filterTimeSliderLayers","call","layerConfig","getLayerEntryConfig","TimeSliderEventProcessor","checkInitTimeSliderLayerAndApplyFilters","FooterPlugin","_this5","filter","AbstractGVLayer","window","geoviewPlugins","Cast","react","cgpv","useCallback","useMemo","useEffect","visibleLayers","useMapVisibleLayers","timeSliderLayers","useTimeSliderLayers","selectedLayerPath","useTimeSliderSelectedLayerPath","setSelectedLayerPath","useTimeSliderStoreActions","legendLayers","useLayerLegendLayers","handleClickLayerList","logger","logTraceUseCallback","getFilterInfo","timeSliderLayerInfo","filtering","values","_timeSliderLayerInfo$","_slicedToArray","datePattern","timePattern","formatDatePattern","memoLayersList","logTraceUseMemo","map","layerName","LegendEventProcessor","findLayerByPath","layerFeatures","tooltip","_jsxs","Box","sx","display","alignContent","width","height","layerStatus","queryStatus","layerUniqueId","TABS","TIME_SLIDER","logTraceUseEffect","includes","handleGuideIsOpen","guideIsOpen","Layout","onLayerListClicked","layerList","onGuideIsOpen","guideContentIds","TimeSlider","config","_AbstractPlugin","footerBarApi","tabs","footerProps","onCreateContentProps","createTab","_this$mapViewer","removeTab","logTraceCore","AbstractPlugin","logTraceRender","ui","useState","useRef","_ui$elements","elements","Grid","Slider","Typography","Checkbox","Tooltip","IconButton","LockIcon","LockOpenIcon","ArrowLeftIcon","PlayArrowIcon","PauseIcon","ArrowRightIcon","SwitchRightIcon","SwitchLeftIcon","theme","useTheme","sxClasses","getSxClasses","_useState","_useState2","isPlaying","setIsPlaying","playIntervalRef","sliderValueRef","sliderDeltaRef","_useTimeSliderStoreAc","setTitle","setDefaultValue","setDescription","setValues","setLocked","setReversed","setDelay","setStep","setFiltering","displayLanguage","useAppDisplayLanguage","_useTimeSliderLayers$","description","discreteValues","step","minAndMax","fieldAlias","delay","locked","reversed","timeStampRange","entry","convertToMilliseconds","timeMarks","interval","Math","round","sliderMarks","i","push","moveSlider","direction","isForward","stepMove","newPosition","_values","leftHandle","rightHandle","current","delta","currentIndex","indexOf","newIndex","moveBack","moveForward","_config$sliders","sliderConfig","find","o","_config$sliders2","isArray","setTimeout","handleSliderChange","newValues","clearTimeout","handleLabelFormat","theValue","returnLockTooltip","getLocalizedMessage","padding","container","rightPanelBtnHolder","flexWrap","item","xs","component","panelHeaders","paddingLeft","paddingTop","formatDate","textAlign","marginRight","placement","enterDelay","checked","onChange","event","child","newValue","clearInterval","style","color","min","max","marks","onChangeCommitted","onValueLabelFormat","tooltipPlacement","onClick","disabled","_values2","FormControl","InputLabel","target","handleTimeChange","Number","handleStepChange","px","py","fontSize","palette","geoViewFontSize","lg","fontWeight","marginBottom","marginTop","boxShadow"],"sourceRoot":""}